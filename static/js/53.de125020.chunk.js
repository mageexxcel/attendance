(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1183:function(e,t,a){"use strict";a.r(t);var n=a(26),i=a(27),l=a(29),r=a(28),o=a(30),s=a(0),c=a.n(s),m=a(36),d=a(566),u=a(10),p=a(24),f=a(129),g=a(37),h=a(262),y=a(13),E=(a(56),a(71)),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).state={empList:a.props.empList},a.search=a.search.bind(Object(y.a)(Object(y.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"search",value:function(e){if("null"===e||""===e||u.isEmpty(e))this.setState({empList:this.props.empList});else{var t=[];u.forEach(this.props.empList,function(a,n){(!u.isEmpty(a.empName)&&-1!==a.empName.toLowerCase().indexOf(e.toLowerCase())||!u.isEmpty(a.designation)&&-1!==a.designation.toLowerCase().indexOf(e.toLowerCase())||-1!==a.salary.toString().indexOf(e.toString())||!u.isEmpty(a.dateOfJoining)&&-1!==a.dateOfJoining.toString().indexOf(e.toString())||!u.isEmpty(a.noOfDaysSinceJoined)&&-1!==a.noOfDaysSinceJoined.toString().indexOf(e.toString())||!u.isEmpty(a.preSalaryIncDetail)&&-1!==a.preSalaryIncDetail.toLowerCase().indexOf(e.toLowerCase())||!u.isEmpty(a.nextSallaryInc)&&-1!==a.nextSallaryInc.toLowerCase().indexOf(e.toLowerCase()))&&t.push({image:a.image,empName:a.empName,designation:a.designation,salary:a.salary,holdingAmountDetail:a.holdingAmountDetail,dateOfJoining:a.dateOfJoining,noOfDaysSinceJoined:a.noOfDaysSinceJoined,preSalaryIncDetail:a.preSalaryIncDetail,nextSallaryInc:a.nextSallaryInc})}),this.setState({empList:t})}}},{key:"render",value:function(){var e=this,t=u.map(this.state.empList,function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,c.a.createElement("div",{className:"list-left"},c.a.createElement("span",{className:"w-40 avatar"},c.a.createElement("img",{src:e.image})))),c.a.createElement("td",null,e.empName),c.a.createElement("td",null,e.designation),c.a.createElement("td",null,e.salary),c.a.createElement("td",null,""!=e.holdingAmountDetail?c.a.createElement("ul",null,c.a.createElement("li",null,"Holding amount : ",e.holdingAmountDetail.holding_amt),c.a.createElement("li",null,"Start date : ",e.holdingAmountDetail.holding_start_date),c.a.createElement("li",null,"End date : ",e.holdingAmountDetail.holding_end_date),c.a.createElement("li",null,"Reason : ",e.holdingAmountDetail.reason)):""),c.a.createElement("td",null,E(e.dateOfJoining).format("Do MMMM YYYY")),c.a.createElement("td",null,e.noOfDaysSinceJoined),c.a.createElement("td",null,e.preSalaryIncDetail),c.a.createElement("td",null,E(e.nextSallaryInc).format("Do MMMM YYYY")))});return c.a.createElement("div",null,c.a.createElement("div",{className:"row no-gutter"},c.a.createElement("div",{className:"col-md-6 p-r"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{style:{fontSize:15}},"Search:"),c.a.createElement("input",{type:"text",id:"search-form",className:"form-control",ref:"search",onChange:function(){return e.search(e.refs.search.value)}})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"box-divider m-a-0"}),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",{className:"success"},c.a.createElement("tr",null,c.a.createElement("th",null,"Image"),c.a.createElement("th",null,"Employe name"),c.a.createElement("th",null,"Designation"),c.a.createElement("th",null,"Salary"),c.a.createElement("th",{style:{textAlign:"center"}},"Holding Amount Details"),c.a.createElement("th",null,"Date of Joining"),c.a.createElement("th",null,"No of Days Since Joined"),c.a.createElement("th",null,"Previous Increment Details"),c.a.createElement("th",null,"Next Increment"))),c.a.createElement("tbody",null,t))))))))}}]),t}(c.a.Component),b=a(4),S=a(621),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(r.a)(t).call(this,e))).props.onIsAlreadyLogin(),a.state={empList:[]},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.onFetchUserSalaryDetails()}},{key:"componentWillReceiveProps",value:function(e){var t=Object(g.e)(this.props.location.pathname,e.loggedUser);t.status&&this.props.history.push(t.redirectTo);var a=[];if(e.loggedUser.data.role===p.a.ADMIN)e.employee.employee.length>0&&(u.forEach(e.employee.employee,function(e,t){a.push({image:e.slack_image,empName:e.name,designation:e.jobtitle,salary:e.salary_detail,holdingAmountDetail:e.holdin_amt_detail,dateOfJoining:e.dateofjoining,noOfDaysSinceJoined:String(e.no_of_days_join),preSalaryIncDetail:String(e.previous_increment),nextSallaryInc:e.next_increment_date})}),this.setState({empList:a}));else if(e.loggedUser.data.role===p.a.HR){var n=u.filter(e.employee.employee,function(e){return""===e.previous_increment}),i=[];n.length>0&&(u.forEach(n,function(e,t){i.push({image:e.slack_image,empName:e.name,designation:e.jobtitle,salary:e.salary_detail,holdingAmountDetail:e.holdin_amt_detail,dateOfJoining:e.dateofjoining,noOfDaysSinceJoined:String(e.no_of_days_join),preSalaryIncDetail:String(e.previous_increment),nextSallaryInc:e.next_increment_date})}),this.setState({empList:i}))}}},{key:"render",value:function(){var e=this.state.empList.length>0?c.a.createElement(O,Object.assign({},this.props,{empList:this.state.empList})):"";return c.a.createElement("div",null,c.a.createElement(f.a,this.props),c.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},c.a.createElement(h.a,{pageTitle:"View Salary",showLoading:this.props.frontend.show_loading}),c.a.createElement("div",{className:"app-body",id:"view"},c.a.createElement("div",{className:"padding"},e))))}}]),t}(c.a.Component);var j=Object(m.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,usersList:e.usersList.toJS(),employee:e.empSalaryList.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(b.isAlreadyLogin())},onFetchUserSalaryDetails:function(){return e(S.a())}}})(v),_=Object(d.a)(j);t.default=_},621:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return c});var n=a(5),i=(a(10),a(24),a(12)),l=(a(179),a(33)),r=a(1);function o(e){return Object(n.a)(r.lc)(e)}function s(){return function(e,t){return new Promise(function(t,a){e(Object(l.b)()),Object(i.b)("POST","",{action:"get_user_salary_info"}).then(function(a){var i;e(Object(l.a)()),"undefined"!==typeof a.data&&"undefined"!==typeof a.data.salary_details?(t(a.data),e(o(a.data))):e((i=[],Object(n.a)(r.i)(i)))},function(t){e(Object(l.a)()),e(o([]))})})}}function c(){return function(e,t){return new Promise(function(t,a){e(Object(l.b)()),Object(i.b)("POST","",{action:"get_all_users_detail"}).then(function(a){var i;e(Object(l.a)()),"undefined"!==typeof a.data&&a.data.length>0?(e((i=a.data,Object(n.a)(r.Bc)(i))),t()):(e(function(e){return Object(n.a)(r.m)(e)}([])),t())},function(a){var i;e(Object(l.a)()),t(),e((i=[],Object(n.a)(r.fb)(i)))})})}}}}]);
//# sourceMappingURL=53.de125020.chunk.js.map