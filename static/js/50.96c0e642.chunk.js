(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1097:function(e,t,a){"use strict";a.r(t);var n=a(25),s=a(26),l=a(29),r=a(27),c=a(28),i=a(0),o=a.n(i),d=a(122),u=a(253),m=a(36),p=a(5),g=a(7),h=a(608),v=a(43),E=(a(67),function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(r.a)(t).call(this))).handleChange=function(t){e.setState(Object(g.a)({},t.target.name,t.target.value))},e.handleAddClick=function(t){e.props.requestAddAttendanceUploadSetting(t)},e.handleRemoveKey=function(t){e.props.requestDeleteAttendanceUploadSetting(t)},e.state={userKey:"",dateTimeKey:""},e}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.attendanceUploadSetting,a=this.state,n=a.userKey,s=a.dateTimeKey;t.isError&&Object(v.b)("Error !",t.message,"error"),!t.isSuccess||""===n&&""===s||this.setState({userKey:"",dateTimeKey:""})}},{key:"render",value:function(){var e=this,t=this.props.attendanceUploadSetting.data,a=[],n=[];return t.user_id&&t.user_id.map(function(t,n){a.push(o.a.createElement("span",{key:n,className:"key-chips"},o.a.createElement("span",{className:"text"},t),o.a.createElement("span",{className:"delete",onClick:function(){e.handleRemoveKey({field_name:"user_id",key_text:t})}},"x")))}),t.time&&t.time.map(function(t,a){n.push(o.a.createElement("span",{key:a,className:"key-chips"},o.a.createElement("span",{className:"text"},t),o.a.createElement("span",{className:"delete",onClick:function(){e.handleRemoveKey({field_name:"time",key_text:t})}},"x")))}),o.a.createElement("div",{className:"attendance-upload-setting"},o.a.createElement("h5",null,"Attendance Upload Setting"),o.a.createElement("table",{className:"table table-responsive secret-key-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"field-column"},"Field"),o.a.createElement("th",{className:"allowed-keys-column"},"Allowed Keys"),o.a.createElement("th",{className:"add-new-key-column"},"Add New Key"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"User"),o.a.createElement("td",null,o.a.createElement("div",{className:"keys-wrapper"},a)),o.a.createElement("td",null,o.a.createElement("div",{className:"stats-add-icon-div"},o.a.createElement("i",{className:"material-icons stats-add-icon",onClick:function(){return e.handleAddClick({userid_key:e.state.userKey})}},"add_box")),o.a.createElement("div",{className:"app-name-input-div"},o.a.createElement(h.a,{className:"app-name-input",name:"userKey",placeHolder:"Date Time Key",value:this.state.userKey,onchange:this.handleChange})))),o.a.createElement("tr",null,o.a.createElement("td",null,"DateTime"),o.a.createElement("td",null,o.a.createElement("div",{className:"keys-wrapper"},n)),o.a.createElement("td",null,o.a.createElement("div",{className:"stats-add-icon-div"},o.a.createElement("i",{className:"material-icons stats-add-icon",onClick:function(){return e.handleAddClick({timing_key:e.state.dateTimeKey})}},"add_box")),o.a.createElement("div",{className:"app-name-input-div"},o.a.createElement(h.a,{className:"app-name-input",name:"dateTimeKey",placeHolder:"Date Time Key",value:this.state.dateTimeKey,onchange:this.handleChange})))))))}}]),t}(o.a.Component)),y=a(1073),f=a(627),b=a.n(f),w=a(9),N=function(){for(var e=[],t=1;t<=100;)e.push({value:t,label:t+" Days"}),t++;return e},S=function(e){function t(){var e,a;Object(n.a)(this,t);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(c)))).state={toggleActive:!1,selectedOption:null},a.onToggle=function(){a.setState({toggleActive:!a.state.toggleActive})},a.handleChange=function(e){a.setState({selectedOption:e,isDisabled:""})},a.onSaveChangesClick=function(){a.props.resetPasswordData(a.state)},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.resetPasswordStatusData.data.value;w.isEqual(this.props.resetPasswordStatusData.data,e.resetPasswordStatusData.data)||this.setState({toggleActive:t&&t.status,selectedOption:t?{value:parseInt(t.days),label:parseInt(t.days)+" days"}:null})}},{key:"componentWillUnmount",value:function(){this.props.clearData()}},{key:"render",value:function(){var e=this,t=null===this.state.selectedOption?"disabled":"";return o.a.createElement("div",{className:"attendance-upload-setting"},o.a.createElement("div",{className:"reset-password-save"},o.a.createElement("div",{className:"col-sm-6 col-xs-6"},o.a.createElement("h5",null,"Password Reset Setting")),o.a.createElement("div",{className:"col-sm-6 col-xs-6 save-btn"},o.a.createElement("button",{type:"button",className:"btn btn-primary ".concat(t),onClick:this.onSaveChangesClick,disabled:t},"Save Changes"))),o.a.createElement("table",{className:"table table-responsive secret-key-table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"Reset Password"),o.a.createElement("td",null,o.a.createElement("div",{className:"app-name-input-div"},o.a.createElement(b.a,{value:this.state.toggleActive,onToggle:function(){e.onToggle()}})," "))),o.a.createElement("tr",null,o.a.createElement("td",null,"Reset Password Duration"),o.a.createElement("td",null,o.a.createElement(y.a,{value:this.state.selectedOption,onChange:this.handleChange,options:N(),placeholder:"Select Duration"}))))))}}]),t}(i.Component),k=function(e){function t(e){return Object(n.a)(this,t),Object(l.a)(this,Object(r.a)(t).call(this,e))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.onIsAlreadyLogin(),this.props.getAttendanceUploadSettings(),this.props.resetPasswordStatus()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(d.a,this.props),o.a.createElement("div",{id:"content",className:"app-content box-shadow-z0 content-health-stats",role:"main"},o.a.createElement(u.a,{pageTitle:"Settings",showLoading:this.props.frontend.show_loading}),o.a.createElement("div",{className:"app-body",id:"view"},o.a.createElement("div",{className:"padding"},o.a.createElement("div",{className:"row m-10"},o.a.createElement("div",{className:"col-sm-6 setting-section1"},o.a.createElement("div",{className:"setting1 bg-white"},o.a.createElement(E,this.props))),o.a.createElement("div",{className:"col-sm-6 setting-section2"},o.a.createElement("div",{className:"setting2 bg-white"},o.a.createElement(S,{resetPasswordData:this.props.requestResetPasswordSetting,resetPasswordStatusData:this.props.resetPasswordStatusData,clearData:this.props.clearData}))))))))}}]),t}(o.a.Component);t.default=Object(m.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,attendanceUploadSetting:e.settings.attendanceUploadSetting,resetPasswordStatusData:e.settings.resetPasswordStatus}},function(e){return{onIsAlreadyLogin:function(){return e(p.isAlreadyLogin())},getAttendanceUploadSettings:function(){return e(p.requestGetAttendanceUploadSetting())},requestAddAttendanceUploadSetting:function(t){return e(p.requestAddAttendanceUploadSetting(t))},requestDeleteAttendanceUploadSetting:function(t){return e(p.requestDeleteAttendanceUploadSetting(t))},requestResetPasswordSetting:function(t){return e(p.requestResetPasswordSetting(t))},resetPasswordStatus:function(){return e(p.requestResetPasswordStatus())},clearData:function(){return e(p.requestClearResetPasswordData())}}})(k)},608:function(e,t,a){"use strict";var n=a(0),s=a.n(n),l=a(1),r=a.n(l),c=function(e){var t=e.className,a=e.ref,n=e.placeHolder,l=e.onchange,r=e.id,c=e.name,i=e.value,o=e.style,d="form-control "+t;return s.a.createElement("input",{type:"text",className:d,ref:a,placeholder:n,onChange:l,id:r,required:!0,name:c,value:i,style:o})};t.a=c,c.PropTypes={className:r.a.string,placeHolder:r.a.string.isRequired,onchange:r.a.func.isRequired,id:r.a.number,name:r.a.string,value:r.a.string,style:r.a.string}}}]);
//# sourceMappingURL=50.96c0e642.chunk.js.map