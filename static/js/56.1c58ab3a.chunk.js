(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1180:function(e,t,a){"use strict";a.r(t);var n=a(26),s=a(27),c=a(29),r=a(28),l=a(30),i=a(0),o=a.n(i),d=a(36),m=a(566),u=a(45),p=a(129),v=a(61),E=(a(37),a(262)),h=a(4),b=a(34),f=a(10),g=a.n(f),N=a(13),w=a(177),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={selectedId:"",approve_request:"1",reject_request:"0",message:"",show_status_message:!1},a._approve_attendance_req=a._approve_attendance_req.bind(Object(N.a)(Object(N.a)(a))),a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(e){this.setState({selectedId:this.props.val.id})}},{key:"componentWillReceiveProps",value:function(e){this.props.status.isSuccess&&!this.props.status.data?Object(u.b)("Success!","Request Rejected Successfully.","success"):this.props.status.isSuccess&&this.props.status.data&&Object(u.b)("Success!","Request Approved Successfully.","success"),this.setState({selectedId:e.val.id})}},{key:"_approve_attendance_req",value:function(e){if(1===e){this.props.requestUserAttendanceStatus({status:e,id:this.state.selectedId}),this.setState({selectedId:""})}else if(0===e){this.props.requestUserAttendanceStatus({status:e,id:this.state.selectedId}),this.setState({selectedId:""})}}},{key:"render",value:function(){var e=this;return!0===this.props.forAdmin&&"82%",o.a.createElement("div",null,o.a.createElement("div",{className:"float-left"},o.a.createElement(w.a,{className:"m-b-sm green",onClick:function(){return e._approve_attendance_req(1)},label:"Approve Request"}),o.a.createElement("br",null),o.a.createElement(w.a,{className:"m-b-sm indigo",onClick:function(){return e._approve_attendance_req(0)},label:"Reject Request"}),o.a.createElement("br",null)))}}]),t}(o.a.Component),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).state={pendingAttendanceList:{}},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.attendanceReqList,a=(t.isLoading,t.data.map(function(t,a){var n=o.a.createElement(_,Object.assign({status:e.props.attendanceStatus,val:t},e.props));return o.a.createElement("tr",{key:a},o.a.createElement("td",{className:"p-r-xs"},t.id),o.a.createElement("td",null,t.user_id),o.a.createElement("td",null,t.timing),o.a.createElement("td",null),o.a.createElement("td",null,t.reason),o.a.createElement("td",null),o.a.createElement("td",null),o.a.createElement("td",null),o.a.createElement("td",null,n))}));return g.a.isEmpty(a)&&(a=o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"10",className:"text-center"},"No Pending Attendance Request "))),o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"box"},o.a.createElement("div",{className:"box-divider m-a-0"}),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"success"},o.a.createElement("tr",null,o.a.createElement("th",{className:"p-r-xs"},"Sr."),o.a.createElement("th",null,"User Name"),o.a.createElement("th",null,"Timing"),o.a.createElement("th",null),o.a.createElement("th",null,"Reason"),o.a.createElement("th",null),o.a.createElement("th",null),o.a.createElement("th",null),o.a.createElement("th",null,"Actions"))),o.a.createElement("tbody",null,a))))))))}}]),t}(o.a.Component),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(r.a)(t).call(this,e))).props.isAlreadyLogin(),a.state={defaultUserDisplay:"",daysummary_date:"",status_message:"",active:"active",firstArrow:"show",pendingAttendanceList:"show"},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.props.requestUserDayAttendance()}},{key:"componentWillReceiveProps",value:function(e){e.route,e.router,e.loggedUser;var t=e.attendanceReqList,a=t.isError,n=t.message;a&&Object(u.b)("Error !",n,"error"),n&&Object(u.b)("Error !",n,"error")}},{key:"openPage",value:function(e){"attendence_hour_list"===e?this.setState({pendingAttendanceList:"row",firstArrow:"show",pendingUserList:"hidden",secondArrow:"hidden"}):"view_actions"===e&&this.setState({pendingAttendanceList:"hidden",firstArrow:"hidden",pendingUserList:"row",secondArrow:"show"})}},{key:"render",value:function(){var e=this,t=(this.props.attendanceStatus.status,this.props.attendanceReqList),a=t.isLoading,n=t.data,s=o.a.createElement(j,Object.assign({attandanceList:n},this.props));return o.a.createElement("div",null,o.a.createElement(p.a,this.props),o.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},o.a.createElement(E.a,{pageTitle:"Manage Employee Pending Attendance Requests",showLoading:a}),o.a.createElement("div",{className:"app-footer"},o.a.createElement("div",null)),o.a.createElement("div",{className:"app-body",id:"view"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement(v.a,{loading:this.props.frontend.show_loading}))),"show"===this.state.secondArrow?null:o.a.createElement("div",{className:"row",style:{marginTop:"2%",marginLeft:"4%"}},o.a.createElement("div",{className:"col-md-11 col-xs-offset-0"})),o.a.createElement("div",{className:"dker p-x"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 pull-sm-6"},o.a.createElement("div",{className:"p-y-md clearfix nav-active-primary"},o.a.createElement("ul",{className:"nav nav-pills nav-sm",style:{marginLeft:"4%"}},o.a.createElement("li",{onClick:function(){e.openPage("attendence_hour_list")},className:"nav-item ".concat(this.state.active)},o.a.createElement("a",{className:"nav-link",href:"","data-toggle":"tab","data-target":"#tab_1","aria-expanded":"true"},"Attendance Request List"),o.a.createElement("div",{className:this.state.firstArrow},o.a.createElement("span",{className:"arrow bottom b-accent"})))))))),o.a.createElement("div",{className:"padding"},o.a.createElement("div",{className:this.state.pendingAttendanceList},s)))))}}]),t}(o.a.Component);var O=Object(d.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,attendanceReqList:e.attendanceReq.attendanceReqList,attendanceStatus:e.attendanceReq.attendanceApproval}},function(e){return Object(b.b)(h,e)})(y),q=Object(m.a)(O);t.default=q}}]);
//# sourceMappingURL=56.1c58ab3a.chunk.js.map