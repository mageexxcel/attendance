{"version":3,"sources":["../../../ReactReduxHR/src/modules/policyDocuments/components/formUploadPolicyDocument.jsx","../../../ReactReduxHR/src/components/policyDocuments/ListAllPolicyDocument.jsx","../../../ReactReduxHR/src/modules/policyDocuments/containers/uploadPolicyDocument.jsx","../../../ReactReduxHR/src/components/generic/Message.jsx"],"names":["FormUploadPolicyDocument","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","nameofdoc","linkofdoc","errName","errLink","submitDocs","bind","assertThisInitialized","name","trim","link","setState","_","isEmpty","docs","push","_this2","react_default","a","createElement","Paper_default","className","zDepth","TextField_default","ref","id","fullWidth","floatingLabelText","errorText","value","onChange","e","target","RaisedButton_default","label","primary","onClick","React","Component","ListAllPolicyDocument","_ref","policyDocuments","submitNewListofDocs","allDocuments","map","doc","i","docId","replace","key","href","ListAllPolicyDocument_this","updateReadStatus","IconButton_default","tooltip","tooltipPosition","children","delete_default","color","evt","stopPropagation","delDoc","newList","filter","o","confirm","then","res","deleteDocument","Card","title","UploadPolicyDocumentContainer","isAlreadyLogin","errClass","errMsg","hideError","requestUserPolicyDocument","isNotValid","isNotUserValid","location","pathname","loggedUser","status","history","redirectTo","data","_props$policyDocument","isSuccess","isError","message","notify","preventDefault","requestSubmitDocs","Menu","role","Header","pageTitle","showLoading","isLoading","Message","formUploadPolicyDocument","assign","policyDocuments_ListAllPolicyDocument","withRouter","connect","logged_user","userLogin","policyDocument","dispatch","bindActionCreators","actions","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","style","classname","aria-label"],"mappings":"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","file":"static/js/45.598517f0.chunk.js","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Paper from 'material-ui/Paper';\n\nclass FormUploadPolicyDocument extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      nameofdoc: '',\n      linkofdoc: '',\n      errName:   '',\n      errLink:   ''\n    };\n    this.submitDocs = this.submitDocs.bind(this);\n  }\n  submitDocs () {\n    let name = this.state.nameofdoc.trim();\n    let link = this.state.linkofdoc.trim();\n    let state = true;\n    this.setState({\n      errName: '',\n      errLink: ''\n    });\n    if (state && _.isEmpty(name)) {\n      state = false;\n      this.setState({\n        errName: 'Please enter document name'\n      });\n    }\n    if (state && _.isEmpty(link)) {\n      state = false;\n      this.setState({\n        errLink: 'Please enter document link'\n      });\n    }\n    if (state) {\n      let docs = this.props.docs;\n      docs.push({name: name, link: link});\n      this.props.submitDocs(docs);\n      this.setState({\n        nameofdoc: '',\n        linkofdoc: ''\n      });\n    }\n  }\n  render () {\n    return (\n      <Paper\n        className=\"upload-doc-paper\"\n        zDepth={2} >\n        <div className=\"row\">\n          <form className=\"form-inline\">\n            <div className=\"col-md-10 form-group m-x-lg\">\n              <TextField\n                ref='name'\n                id=\"docName\"\n                fullWidth\n                floatingLabelText=\"Name of doc\"\n                errorText={this.state.errName}\n                value={this.state.nameofdoc}\n                onChange={(e) => {\n                  this.setState({\n                    nameofdoc: e.target.value\n                  });\n                }}\n              />\n            </div>\n            <div className=\"col-md-10 form-group m-x-lg\">\n              <TextField\n                ref='link'\n                id=\"docLink\"\n                fullWidth\n                floatingLabelText=\"Link of doc\"\n                errorText={this.state.errLink}\n                value={this.state.linkofdoc}\n                onChange={(e) => {\n                  this.setState({linkofdoc: e.target.value});\n                }}\n              />\n            </div>\n            <div className=\"col-xs-10 m-y-md \">\n              <RaisedButton\n                id=\"docSubmitButton\"\n                label=\"SUBMIT\"\n                primary\n                className=\" pull-right btn-responsive\"\n                onClick={this.submitDocs} />\n            </div>\n          </form>\n        </div>\n      </Paper>\n    );\n  }\n}\n\nexport default FormUploadPolicyDocument;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport {confirm} from '../../services/notify';\nimport IconButton from 'material-ui/IconButton';\nimport Delete from 'material-ui/svg-icons/action/delete';\nimport {Card, CardHeader} from 'material-ui/Card';\n\nconst ListAllPolicyDocument = ({policyDocuments, submitNewListofDocs}) => {\n  const deleteDocument = (delDoc) => {\n    let newList = _.filter(policyDocuments, function (o) { return o.name !== delDoc.name; });\n    confirm('Are you sure ?', 'Do you want to delete this Document ?', 'warning').then((res) => {\n      if (res) {\n        submitNewListofDocs(newList);\n      }\n    });\n  };\n  let allDocuments = _.map(policyDocuments, (doc, i) => {\n    const docId = doc.name.replace(/ /g, '');\n    return (\n      <div key={i} id={docId} className='m-y-sm policyDocumentsList  clear'>\n        <h5>{doc.name}</h5>\n        <a href={doc.link} target=\"_blank\" onClick={() => this.updateReadStatus(doc)}>{doc.link}</a>\n        <IconButton\n          id=\"docIconDelete\"\n          tooltip=\"Delete Document\"\n          tooltipPosition=\"top-left\"\n          className=\"pull-right btn-responsive icon-button p-0 \"\n          children={<Delete color='#B71C1C' />}\n          onClick={(evt) => {\n            evt.stopPropagation();\n            deleteDocument(doc);\n          }\n        }\n        />\n      </div>\n    );\n  });\n  return (\n    <div className=\"row\">\n      <div className=\"col-md-12\">\n        <Card>\n          <CardHeader title=\"Policy Documents List\" />\n        </Card>\n        {allDocuments}\n      </div>\n    </div>\n  );\n};\n\nListAllPolicyDocument.propTypes = {\n  policyDocuments:     PropTypes.array.isRequired,\n  submitNewListofDocs: PropTypes.func.isRequired\n};\n\nexport default ListAllPolicyDocument;\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router';\nimport {notify} from '../../../services/notify';\nimport Menu from '../../../components/generic/Menu';\nimport {bindActionCreators} from 'redux';\nimport {isNotUserValid} from '../../../services/generic';\nimport Header from '../../../components/generic/Header';\nimport Message from '../../../components/generic/Message';\nimport FormUploadPolicyDocument from '../../../modules/policyDocuments/components/formUploadPolicyDocument';\nimport ListAllPolicyDocument from '../../../components/policyDocuments/ListAllPolicyDocument';\nimport * as actions from '../../../redux/actions';\n\nclass UploadPolicyDocumentContainer extends React.Component {\n  constructor (props) {\n    super(props);\n    this.props.isAlreadyLogin();\n    this.state = {\n      docs:     [],\n      errClass: 'hidden',\n      errMsg:   ''\n    };\n    this.submitDocs = this.submitDocs.bind(this);\n    this.hideError = this.hideError.bind(this);\n    this.submitNewListofDocs = this.submitNewListofDocs.bind(this);\n  }\n  componentWillMount () {\n    this.props.requestUserPolicyDocument();\n  }\n  componentWillReceiveProps (props) {\n    let isNotValid = isNotUserValid(this.props.location.pathname, props.loggedUser);\n    if (isNotValid.status) {\n      this.props.history.push(isNotValid.redirectTo);\n    }\n    this.setState({\n      docs: props.policyDocuments.data\n    });\n    let {isSuccess, isError, message} = props.policyDocuments;\n    if (isSuccess && message !== '') {\n      notify('Success!', message, 'success');\n    } else if (isError) {\n      notify('Error!', message, 'error');\n    }\n  }\n  hideError (e) {\n    e.preventDefault();\n    this.setState({\n      errClass: 'hidden',\n      errMsg:   ''\n    });\n  }\n  submitNewListofDocs (newList) {\n    this.props.requestSubmitDocs(newList);\n  }\n  submitDocs (docs) {\n    this.props.requestSubmitDocs(docs);\n  }\n  render () {\n    return (\n      <div>\n        <Menu {...this.props} />\n        <div id=\"content\" className=\"app-content box-shadow-z0\" role=\"main\">\n          <Header pageTitle={'Upload Policy Documents'} showLoading={this.props.policyDocuments.isLoading} />\n          <div className=\"app-body\" id=\"view\">\n            <div className=\"row\">\n              <Message className={this.state.errClass} message={this.state.errMsg} onClick={this.hideError} />\n            </div>\n\n              <div className=\"col-sm-6 col-xs-12 col-md-6 m-t-md m-b-md\" id=\"submitDocs\">\n                <FormUploadPolicyDocument submitDocs={this.submitDocs} docs={this.state.docs} {...this.props} />\n              </div>\n              <br />\n              <div className=\"col-sm-6 col-xs-12 col-md-6\" id=\"listDocs\">\n                <ListAllPolicyDocument policyDocuments={this.state.docs} submitNewListofDocs={this.submitNewListofDocs} />\n              </div>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps (state) {\n  return {\n    loggedUser:      state.logged_user.userLogin,\n    policyDocuments: state.policyDocuments.policyDocument\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => { return bindActionCreators(actions, dispatch); };\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(UploadPolicyDocumentContainer));\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst styles = {\n  errorAlert: {\n    \"width\": \"100%\",\n    \"display\":\"none\",\n  },\n}\n\nconst Message = ({message, style, className, onClick}) => {\n  let classname = \"alert \" + (className || 'hidden');\n  return (\n    <div className={classname} style={style}>\n      <a href=\"#\" className=\"close\" onClick={onClick} aria-label=\"close\">&times;</a>\n      <span>{message}</span>\n    </div>\n  )\n}\n\nMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n  className: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  onClick: PropTypes.func.isRequired\n}\n\nexport default Message;\n"],"sourceRoot":""}