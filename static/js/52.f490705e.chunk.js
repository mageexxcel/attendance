(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{574:function(e,t,n){"use strict";n.d(t,"i",function(){return m}),n.d(t,"j",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"h",function(){return _}),n.d(t,"e",function(){return y}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return v}),n.d(t,"d",function(){return P}),n.d(t,"b",function(){return E}),n.d(t,"f",function(){return S});var r=n(5),a=n(10),i=n(582),o=n.n(i),c=n(12),d=n(33),s=n(1),u=n(71);function m(e,t){return function(n,a){return new Promise(function(a,i){n(Object(d.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_profile_detail_by_id",user_id:e})}(e).then(function(e){var a;n(Object(d.a)()),0==e.error?n(function(e,t){return{type:s.Ac,payload:e,username:t}}(e.data,t)):n((a=e.data.message,Object(r.a)(s.l)(a)))},function(e){var t;n(Object(d.a)()),n((t="error occurs!!!",Object(r.a)(s.eb)(t)))})})}}function l(e){return Object(r.a)(s.Z)(e)}function f(e){return function(t,n){var a="",i="",o="",f="",p="",g="",b="",_="",y="",j="",h="",O="",v="",P="",w="",E="",N=e.send_slack_msg,S=e.slack_msg,k="",C="",A="",T="";if("undefined"!==typeof e.user_id&&(a=e.user_id),"undefined"!==typeof e.name&&(i=e.name),"undefined"!==typeof e.jobtitle&&(o=e.jobtitle),"undefined"!==typeof e.team&&(f=e.team),"undefined"!==typeof e.dateofjoining&&null!=e.dateofjoining&&(p=e.dateofjoining),"undefined"!==typeof e.training_month&&null!=e.training_month&&(T=e.training_month),"undefined"!==typeof e.work_email&&(g=e.work_email),"undefined"!==typeof e.other_email&&(b=e.other_email),"undefined"!==typeof e.gender&&(_=e.gender),"undefined"!==typeof e.dob&&null!=e.dob){var L=new Date(e.dob);L&&(y=u(L).format("YYYY-MM-DD"))}return"undefined"!==typeof e.marital_status&&(j=e.marital_status),"undefined"!==typeof e.address1&&(h=e.address1),"undefined"!==typeof e.address2&&(O=e.address2),"undefined"!==typeof e.emergency_ph1&&(v=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(P=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(w=e.blood_group),"undefined"!==typeof e.medical_condition&&(E=e.medical_condition),"undefined"!==typeof e.training_completion_date&&null!=e.training_completion_date&&(k=e.training_completion_date),"undefined"!==typeof e.termination_date&&null!=e.termination_date&&(C=e.termination_date),"undefined"!==typeof e.holding_comments&&(A=e.holding_comments),""===a.trim()?Promise.reject("User id is empty"):""===i.trim()?Promise.reject("Name is empty"):""===o.trim()?Promise.reject("Jobtitle is empty"):""===p.trim()?Promise.reject("Joining date is empty"):""===g.trim()?Promise.reject("Work email is empty"):""===b.trim()?Promise.reject("Personal email is empty"):""===_.trim()?Promise.reject("Gender is empty"):""===y.trim()?Promise.reject("Date of birth is empty"):""===j.trim()?Promise.reject("Marital status not selected"):""===h.trim()?Promise.reject("Current address is empty"):""===O.trim()?Promise.reject("Permanent address is empty"):""===v.trim()?Promise.reject("Emmergency contact 1 is empty"):""===P.trim()?Promise.reject("Emmergency contact 2 is empty"):""===w.trim()?Promise.reject("Blood group not selected"):""===E.trim()?Promise.reject("Any medical conditions is empty"):""===T.trim()?Promise.reject("Training month is Empty"):new Promise(function(e,n){t(Object(d.b)()),function(e,t,n,r,a,i,o,d,s,u,m,l,f,p,g,b,_,y,j,h,O,v){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,marital_status:u,name:t,jobtitle:n,team:r,dateofjoining:a,work_email:i,other_email:o,gender:d,dob:s,permanent_address:l,current_address:m,emergency_ph1:f,emergency_ph2:p,blood_group:g,medical_condition:b,training_completion_date:_,termination_date:y,training_month:h,holding_comments:j,send_slack_msg:O,slack_msg:v})}(a,i,o,f,p,g,b,_,y,j,h,O,v,P,w,E,k,C,A,T,N,S).then(function(e){var i;t(Object(d.a)()),0==e.error?(t(m(a)),t((i=e.data.message,Object(r.a)(s.vc)(i)))):(t(l(e.data.message)),n(e.data))},function(e){t(Object(d.a)()),t(l("error occurs!!!"))})})}}function p(e){return Object(r.a)(s.p)(e)}function g(e){return function(t,n){var a="",i="",o="",u="",m="",l="",f="",g="";return"undefined"===typeof e.dateofjoining||""==e.dateofjoining?Promise.reject("Date of Joining is empty"):(a=e.dateofjoining,"undefined"===typeof e.name||""==e.name?Promise.reject("Name is empty"):(i=e.name,"undefined"===typeof e.jobtitle||""==e.jobtitle?Promise.reject("Job Title is empty"):(o=e.jobtitle,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(u=e.gender,"undefined"===typeof e.dob||""==e.dob?Promise.reject("Date of birth is empty"):(m=e.dob,"undefined"===typeof e.gender||""==e.gender?Promise.reject("Gender is empty"):(u=e.gender,"undefined"===typeof e.username||""==e.username?Promise.reject("Username is empty"):(l=e.username,"undefined"===typeof e.training_month||""==e.training_month?Promise.reject("training month is empty"):(f=e.training_month,"undefined"===typeof e.workemail||""==e.workemail?Promise.reject("Work email is empty"):(g=e.workemail,new Promise(function(e,n){t(Object(d.b)()),function(e,t,n,r,a,i,o,d){return Object(c.b)("POST","",{action:"add_new_employee",dateofjoining:e,name:t,jobtitle:n,gender:r,dob:a,username:i,training_month:o,workemail:d})}(a,i,o,u,m,l,f,g).then(function(a){var i;t(Object(d.a)()),0==a.error?(t((i=a.data,Object(r.a)(s.Db)(i))),e(a.data)):(t(p(a.data.message)),n(a.data.message))},function(e){t(Object(d.a)()),t(p("error occurs!!!")),n("error occurs!!!")})}))))))))))}}function b(e){return Object(r.a)(s.bb)(e)}function _(e){return function(t,n){return new Promise(function(n,a){t(Object(d.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_document_by_id",user_id:e})}(e).then(function(e){var n;t(Object(d.a)()),0==e.error?t((n=e.data,Object(r.a)(s.xc)(n))):t(b(e.data.message))},function(e){t(Object(d.a)()),t(b("error occurs!!!"))})})}}function y(e){return function(t,n){return new Promise(function(n,r){t(Object(d.b)()),function(e){return Object(c.b)("POST","",{action:"delete_user_document",id:e})}(e).then(function(e){t(Object(d.a)()),0==e.error?n(e.data.message):r(e.data.message)},function(e){t(Object(d.a)()),r("error occurs!!")})})}}function j(e,t){return function(n,r){return new Promise(function(n,r){(function(e,t){return Object(c.b)("POST","",{action:"change_employee_status",user_id:e,status:t})})(e,t).then(function(e){0===e.error?n("User disabled"):r(e.data.message)},function(e){r("error occurs!!")})})}}function h(e){return Object(r.a)(s.ec)(e)}function O(e){return Object(r.a)(s.K)(e)}o()(function(e,t,n){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e}).then(function(e){0==e.error?t(h(e.data)):t(O())})},1);function v(e){return function(t,n){return new Promise(function(n,r){(function(e){return Object(c.b)("POST","",{action:"get_employee_life_cycle",userid:e})})(e).then(function(e){0==e.error?(n(e.message),t(h(e.data))):(r(e.data.message),t(O(e.data.message)))},function(e){r("error occurs!!")})})}}function P(e,t){return function(n,a){return new Promise(function(a,i){(function(e,t){return Object(c.b)("POST","",{action:"update_employee_life_cycle",userid:e,stepid:t})})(e,t).then(function(e){var t;0==e.error?a(e.data.message):(i(e.data.message),n((t=e.data.message,Object(r.a)(s.J)(t))))},function(e){i("error occurs!!")})})}}function w(e){return Object(r.a)(s.r)(e)}function E(e){return function(t,n){var a="",i="",o="",u="",m="",l="",f="",p="";return"undefined"!==typeof e.user_id&&(a=e.user_id),"undefined"!==typeof e.signature&&(p=e.signature),"undefined"!==typeof e.permanent_address&&(i=e.permanent_address),"undefined"!==typeof e.emergency_ph1&&(o=e.emergency_ph1),"undefined"!==typeof e.emergency_ph2&&(u=e.emergency_ph2),"undefined"!==typeof e.blood_group&&(m=e.blood_group),"undefined"!==typeof e.medical_condition&&(l=e.medical_condition),"undefined"!==typeof e.holding_comments&&(f=e.holding_comments),""===a.trim()?Promise.reject("User id is empty"):""===p.trim()?Promise.reject("signature is empty"):""===i.trim()?Promise.reject("Permanent address is empty"):""===o.trim()?Promise.reject("Emmergency contact 1 is empty"):""===u.trim()?Promise.reject("Emmergency contact 2 is empty"):""===m.trim()?Promise.reject("Blood group not selected"):""===l.trim()?Promise.reject("Any medical conditions is empty"):new Promise(function(e,n){t(Object(d.b)()),function(e,t,n,r,a,i,o,d){return Object(c.b)("POST","",{action:"update_user_profile_detail_by_id",user_id:e,permanent_address:t,emergency_ph1:n,emergency_ph2:r,blood_group:a,medical_condition:i,holding_comments:o,signature:d})}(a,i,o,u,m,l,f,p).then(function(n){var a;t(Object(d.a)()),0==n.error?(e(n.data),t((a=n.data,Object(r.a)(s.Fb)(a)))):t(w(n.data))},function(e){t(Object(d.a)()),t(w("error occurs!!!"))})})}}function N(e){return Object(r.a)(s.Fe)(e)}function S(){return function(e,t){return new Promise(function(t,n){e(Object(d.b)()),Object(c.b)("POST","",{action:"get_enabled_users_brief_details"}).then(function(n){var i;0==n.error?(t(n.data),e(N(n.data)),n.data.length&&e(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,i){return new Promise(function(i,o){var s=t[n].user_Id;r(Object(d.b)()),function(e){return Object(c.b)("POST","",{action:"get_user_salary_info_by_id",user_id:e})}(s).then(function(i){if("undefined"!==typeof i.data&&"undefined"!==typeof i.data.salary_details&&i.data.salary_details.length>0){i.data;var o=a.orderBy(i.data.salary_details,["date"],["desc"]);t[n].current_salary=o[0].test&&o[0].test.total_salary,r(N(t))}r(Object(d.a)()),t.length>++n&&r(e(t,n))},function(a){r(Object(d.a)()),t.length>++n&&r(e(t,n))})})}}(n.data))):e((i=n.data,Object(r.a)(s.Qc)(i))),e(Object(d.a)())},function(t){console.log("error",t),e(Object(d.a)())})})}}},663:function(e,t,n){"use strict";n.r(t);var r,a=n(26),i=n(27),o=n(29),c=n(28),d=n(30),s=n(13),u=n(0),m=n.n(u),l=(n(130),n(263)),f=n.n(l),p=n(8),g=n.n(p),b=n(36),_=n(45),y=(n(596),n(638),n(24),n(180),n(129)),j=(n(37),n(262)),h=n(566),O=n(177),v=n(788),P=n(4),w=n(176),E=n(574),N=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).props.onIsAlreadyLogin(),n.state={user_id:"",permanent_address:"",emergency_ph1:"",emergency_ph2:"",blood_group:"",medical_condition:"",holding_comments:"",signature:""},n.callAddNewEmployeeDetails=n.callAddNewEmployeeDetails.bind(Object(s.a)(Object(s.a)(n))),n.handleCanvas=n.handleCanvas.bind(Object(s.a)(Object(s.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleCanvas",value:function(){var e=this;r=new v.a(document.getElementById("signature-pad"),{backgroundColor:"rgba(255, 255, 255, 0)",penColor:"rgb(0, 0, 0)",onEnd:function(){localStorage.setItem("signature",r.toDataURL()),e.setState({signature:localStorage.signature})}})}},{key:"componentWillMount",value:function(){this.props.onUsersList()}},{key:"handleCancelButton",value:function(){r.clear()}},{key:"callAddNewEmployeeDetails",value:function(e){var t=this;this.props.onAddNewUserDetails(e).then(function(e){Object(_.b)("Success!!",e.message,"success"),t.props.history.push("/add_documents/".concat(t.props.params.id))},function(e){Object(_.b)("error",e,"error")})}},{key:"render",value:function(){var e=this;return m.a.createElement("div",null,m.a.createElement(y.a,this.props),m.a.createElement("div",{id:"content",className:"app-content box-shadow-z0",role:"main"},m.a.createElement(j.a,{pageTitle:"Add New Employee Details",showLoading:this.props.frontend.show_loading}),m.a.createElement("div",{className:"app-body",id:"view"},m.a.createElement("div",{className:"padding"},m.a.createElement("div",{className:"col-md-6 input-wrapper"},m.a.createElement(f.a,{floatingLabelText:"Permanent Address",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({permanent_address:t.target.value})},value:this.state.permanent_address})),m.a.createElement("div",{className:"col-md-6 input-wrapper"},m.a.createElement(f.a,{type:"number",floatingLabelText:"Phone No",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({emergency_ph1:t.target.value})},value:this.state.emergency_ph1})),m.a.createElement("div",{className:"col-md-6 input-wrapper"},m.a.createElement(f.a,{type:"number",floatingLabelText:"Emergency Contact No",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({emergency_ph2:t.target.value})},value:this.state.emergency_ph2})),m.a.createElement("div",{className:"col-md-6 input-wrapper"},"Blood Group",m.a.createElement("select",{className:"form-control",ref:"blood_group",onChange:function(t){return e.setState({blood_group:t.target.value})},value:this.state.blood_group},m.a.createElement("option",{disabled:!0},"--select blood group--"),m.a.createElement("option",{value:"0"},"B+ "),m.a.createElement("option",{value:"1"},"O+"),m.a.createElement("option",{value:"2"},"AB+"),m.a.createElement("option",{value:"3"},"A+"),m.a.createElement("option",{value:"4"},"B- "),m.a.createElement("option",{value:"5"},"O-"),m.a.createElement("option",{value:"6"},"AB-"),m.a.createElement("option",{value:"7"},"A-"))),m.a.createElement("div",{className:"col-md-8 input-wrapper"},m.a.createElement(f.a,{floatingLabelText:"Any Medical issues in past/present",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({medical_condition:t.target.value})},value:this.state.medical_condition})),m.a.createElement("div",{className:"col-md-8 input-wrapper"},m.a.createElement(f.a,{floatingLabelText:"Employee Holding Comment",floatingLabelFixed:!0,fullWidth:!0,onChange:function(t){return e.setState({holding_comments:t.target.value,user_id:e.props.params.id})},value:this.state.holding_comments})),m.a.createElement("div",{className:"col-md-8  input-wrapper"},m.a.createElement("label",null,"Employee Signature"),m.a.createElement("p",null,"(Double-tap and hold then start drawing your signature)"),m.a.createElement("canvas",{id:"signature-pad",onClick:this.handleCanvas,className:"signature-pad",style:{width:"100%",height:200,border:"1px solid rgba(80,80,80,0.6)"}}),m.a.createElement(O.a,{onClick:this.handleCancelButton,id:"clear",label:"Clear"}),m.a.createElement("div",{className:"row p-y"},m.a.createElement(O.a,{className:"col-xs-12 p-y-2 m-b-sm indigo",onClick:function(){return e.callAddNewEmployeeDetails(e.state)},label:"Next"})))))))}}]),t}(m.a.Component);var S=Object(h.a)(Object(b.b)(function(e){return{frontend:e.frontend.toJS(),loggedUser:e.logged_user.userLogin,manageUsers:e.manageUsers.toJS()}},function(e){return{onIsAlreadyLogin:function(){return e(P.isAlreadyLogin())},onUsersList:function(){return e(w.c())},onAddNewUserDetails:function(t){return e(E.b(t))}}})(N));t.default=S,S.propTypes={onIsAlreadyLogin:g.a.func.isRequired,usersList:g.a.object.isRequired,onAddNewUserDetails:g.a.func.isRequired,router:g.a.object.isRequired}}}]);
//# sourceMappingURL=52.f490705e.chunk.js.map